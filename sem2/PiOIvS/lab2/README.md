# 
## Лабораторная работа №2
Вариант: 22
Постановка задачи: Реализовать программу, формирующую множество равное симметрической разности
произвольного количества исходных множеств (с учётом кратных вхождений элементов).

### Цель работы:
Разработать библиотеку для работы со структурой данных множество на любом императивнойм языке программирования (Pascal, C\C++, Java, C#, Python и др.)  

Разработать тестовую программу, которая демонстрирует работоспособность реализованной библиотеки работы со структурой данных.  

Разработать систему тестов, которые продемонстрировали бы работоспособность реализованной библиотеки. Система тестов должна отвечать требованиям полноты, адекватности и непротиворечивости.  

Система тестов должна учитывать не только корректную работу на правильных данных, но и предусматривать корректное завершение программы в случае некорректных данных.  

### Определения:
- **Множество** – простейшая информационная конструкция и математическая структура, позволяющая рассматривать какие-то объекты как целое, связывая их.
- **Симметрической разностью** - неориентированных множеств A и B с учётом кратных вхождений элементов будем называть неориентированное множество S тогда и только тогда, когда для любого x истинно S|x| = max{A|x|-B|x|, B|x|-A|x|}.
### Реализованные методы:  
- **void add(string elem)** - добавление элемента в множество.
- **void printSet()** - вывод множества в консоль.
- **void remove(string elem)** - удаление элемента из множества.
- **bool contains(string elem)** - проверка, есть ли данный элемент в множестве.
- **int size()** - возвращает количество элементов в множестве.
- **Set symmetricDifference(Set set2)** - симметрическая разность двух множеств.
- **Set symmetricDifference(vector\<Set\> sets)** - симметрическая разность нескольких множеств.
- **void sort(vector\<int\>&count)** - метод, используемый для релизации алгоритма симметрической разности.
- **vector\<string\>parsing_string(string elem)** - метод, используемый для преобразования добавляемого подмножества в вектор, содержащий элементы и скобки.
- **string parsing_vec(vector\<string\>& set)** - метод, используемый для сортировки вектора, полученного после вызова метода parsing_string.
- **void sort(vector\<string\>& set, int start, int finish)** - используется в методе parsing_vec для сортировки элементов от открывающейся скобки до закрывающейся скобки.
- **void compare(vector\<string\>& set, int start, int finish)** - используется в методе parsing_vec для объединения элементов в одну строку от открывающейся скобки до закрывающейся скобки. 
- **Set** - конструктор множества.
- **~Set** - деструктор для удаления множества.

### Описание:
- Метод **string parsing_vec(vector\<string\>& set)**    
Для реалиции алгоритма, выполняемой данной функцией использовал динамическую структуру данных **stack**.
В созданный объект класса stack добавлял открывающиеся скобки, а также их индекс в векторе, полученном после выполнения метода **vector\<string\>parsing_string(string elem)**. Если встречается закрывающаяся скобка то из стека извлекается элемент. Далее в зависимости от того, какую закрывающуюся скобку встрети, вызываю два метода: **void sort(vector\<string\>& set, int start, int finish)** и **void compare(vector\<string\>& set, int start, int finish)**. Если закрывающаяся скобка '\}', то вызывалось два метода.
Первый сортирует элементы в векторое в диапазоне между открывающейся скобкой и закрывающейя, а второй объединяет в одну строку(которая находится под индексом открывающейся скобки в векторе) отсортированные элементы  вданном диапазоне. Если закрывающаяся скобка '>', то вызывался только метод compare, который объединяет все элементы в диапазоне от открывающейся скобки до закрывающейся. Результатом функции является строкая, которая будет добавлена во множество.   
- Метод **Set symmetricDifference(Set set2)**      
Данная функция выполняет операцию симметрической разности двух множеств. Создаем множeство used и result.
Проходимся по 1-ому и 2-ому множеству и заносим в множество used все элементы(кратных вхождений в множестве used нет). После этого берем поочередно элементы множества used и считаем сколько данных элементов в 1-ом и 2-ом множестве соответственно. Если количество совпадает, то в множество result ничего не  добавляем, если количество не совпадает, то в множество result добавляем n=|count1-count2| элементов, где count1-количество данного элемента в 1-ом множестве, а count2-во втором.    
- Метод **Set symmetricDifference(vector\<Set\> sets)**      
Данная функция выполняет операцию симметрической разности нескольких множеств.  Создаем множeство used и result.
Проходимся по всем множествам(пусть их будет n) и заносим в множество used все элементы(кратных вхождений в множестве used нет). После этого берем поочередно элементы множества used и считаем сколько данных элементов в 1-ом - n-ом множестве соответственно(информацию о количестве данного элемента заносим в вектор, где 0-ой индекс вектора-количество данного элемента в 1-ом множестве, а n-1-ый индекс вектора-количество данного элемента в n-ом множество). Далее отсортировываем данный вектор, содержащий количество элемента в множествах по убыванию. Считаем m=|count1-count2|(count1-0-ой индекс в отсортированном векторе, count2-1-ый индекс в отсортированном векторе), если m=0, то берем следующий элемент в множестве used, если m>0, то добавляем в множество result m элементов данного элемента из иножества used.   

### Тестирование 
![](https://github.com/iit-22170x/RPIIS/blob/6dd6dc936b911850edb450fd3dcb376fc82fc350/sem2/img/LW2_test1.png)   
![](https://github.com/iit-22170x/RPIIS/blob/6dd6dc936b911850edb450fd3dcb376fc82fc350/sem2/img/LW2_test2.png)    
![](https://github.com/iit-22170x/RPIIS/blob/6dd6dc936b911850edb450fd3dcb376fc82fc350/sem2/img/LW2_test3.1.png)   
![](https://github.com/iit-22170x/RPIIS/blob/6dd6dc936b911850edb450fd3dcb376fc82fc350/sem2/img/LW2_test3.2.png)    
- **Тест-1**  
Симметрическая разность 3-ех множеств.  
- **Тест-2**  
Симметрическая разность 2-ух множеств.  
- **Тест-3**  
Симметрическая разность множества с самим собой.  
- **Тест-4**  
Симметрическая разность 4-ех множеств.  
- **Тест-5**  
Симметрическая разность 2-ух множеств.(Результат пустое множество).  
- **Тест-6**  
Симметрическая разность 2-ух множеств, состоящих из букв.  
- **Тест-7**  
Симметрическая разность 4-ех множеств, состоящих из букв и цифр.  
- **Тест-8**  
Симметрическая разность пустого множетва A с множеством B.  
- **Тест-9**  
Симметрическая разность множетва A с множеством B(содержат кортежы и множества).  
- **Тест-10**  
Симметрическая разность 3-ех множеств, содержащих кортежы и множества.   
- **Тест-11**  
 Симметрическая разность 3-ех множеств, содержащих кортежы и множества, в которых тоже могут содержаться кортежы и множества.   
### Вывод 
В рамках данной лабораторной работы я реализовал библиотеку для работы со множеством и выполнения операции симметрическая разность, совершенствовал свои навыки в работе с классами на языке программирования С++.
### Источники информации:
https://drive.google.com/drive/folders/1SLcF9njDTaNUacXMA9Nrqm7FUS7MnNsI  
https://ru.wikipedia.org/wiki/Симметрическая_разность  